<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>YesLucid's Editing Course</title>
    <link rel="icon" type="image/x-icon" href="https://assets.squarespace.com/universal/default-favicon.ico">
    <link href="https://fonts.googleapis.com/css2?family=Helvetica+Neue:wght@300;400;500;700&display=swap" rel="stylesheet">
    <script src="https://js.stripe.com/v3/"></script>
    
    <style>
        :root {
            --dark-bg: #0e0e0e;
            --gradient-start: #00d2ff;
            --gradient-end: #3a47d5;
            --button-bg: #00d2ff;
            --button-hover: #3a47d5;
            --text-light: #ffffff;
            --text-dark: #0e0e0e;
            --card-bg: #1a1a1a;
            --shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
            --rounded: 12px;
            --rounded-lg: 24px;
            --transition: all 0.3s ease;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Helvetica Neue', sans-serif;
            background: var(--dark-bg);
            color: var(--text-light);
            min-height: 100vh;
            display: flex;
            flex-direction: column;
        }
        
        /* Notification Styles */
        .notification {
            position: fixed;
            top: 20px;
            right: 20px;
            padding: 15px 25px;
            background: #00c853;
            color: white;
            border-radius: var(--rounded);
            box-shadow: var(--shadow);
            z-index: 1000;
            animation: slideIn 0.5s forwards;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        @keyframes slideIn {
            from { transform: translateX(100%); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
        }
        
        .notification.error {
            background: #ff3d00;
        }
        
        header {
            background-color: rgba(14, 14, 14, 0.9);
            backdrop-filter: blur(10px);
            position: fixed;
            width: 100%;
            top: 0;
            z-index: 1000;
            padding: 1rem 2rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .logo {
            font-size: 1.5rem;
            font-weight: 700;
            background: linear-gradient(90deg, var(--gradient-start), var(--gradient-end));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            text-decoration: none;
        }
        
        nav ul {
            display: flex;
            list-style: none;
            align-items: center;
        }
        
        nav ul li {
            margin-left: 2rem;
        }
        
        nav ul li a {
            text-decoration: none;
            color: var(--text-light);
            font-weight: 500;
            transition: var(--transition);
            padding: 0.5rem 1rem;
            border-radius: var(--rounded);
        }
        
        nav ul li a:hover {
            background: rgba(255, 255, 255, 0.1);
        }
        
        .user-profile {
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }
        
        .user-avatar {
            width: 32px;
            height: 32px;
            border-radius: 50%;
            object-fit: cover;
            background: var(--gradient-start);
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--text-dark);
            font-weight: bold;
        }
        
        .user-name {
            font-size: 0.9rem;
        }
        
        .auth-modal {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.8);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 2000;
            opacity: 0;
            visibility: hidden;
            transition: var(--transition);
        }
        
        .auth-modal.active {
            opacity: 1;
            visibility: visible;
        }
        
        .auth-content {
            background: var(--card-bg);
            border-radius: var(--rounded-lg);
            width: 90%;
            max-width: 400px;
            padding: 2rem;
            box-shadow: var(--shadow);
            position: relative;
        }
        
        .auth-close {
            position: absolute;
            top: 1rem;
            right: 1rem;
            background: none;
            border: none;
            color: var(--text-light);
            font-size: 1.5rem;
            cursor: pointer;
            opacity: 0.7;
            transition: var(--transition);
        }
        
        .auth-close:hover {
            opacity: 1;
        }
        
        .auth-title {
            font-size: 1.5rem;
            margin-bottom: 1.5rem;
            background: linear-gradient(90deg, var(--gradient-start), var(--gradient-end));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            text-align: center;
        }
        
        .auth-form {
            display: flex;
            flex-direction: column;
            gap: 1rem;
        }
        
        .auth-form input {
            padding: 0.75rem;
            border-radius: var(--rounded);
            border: none;
            background: rgba(255, 255, 255, 0.1);
            color: var(--text-light);
            font-size: 1rem;
        }
        
        .auth-form button {
            padding: 0.75rem;
            border-radius: var(--rounded);
            border: none;
            background: var(--button-bg);
            color: var(--text-dark);
            font-weight: 600;
            cursor: pointer;
            transition: var(--transition);
            font-size: 1rem;
            margin-top: 0.5rem;
        }
        
        .auth-form button:hover {
            background: var(--button-hover);
            color: var(--text-light);
        }
        
        .auth-toggle {
            background: none;
            border: none;
            color: var(--gradient-start);
            text-decoration: underline;
            cursor: pointer;
            font-size: 0.9rem;
            margin-top: 1rem;
            text-align: center;
            display: block;
            width: 100%;
        }
        
        .auth-message {
            margin-top: 1rem;
            padding: 0.75rem;
            border-radius: var(--rounded);
            text-align: center;
            font-size: 0.9rem;
        }
        
        .auth-message.success {
            background: rgba(0, 255, 0, 0.1);
            color: #00ff00;
        }
        
        .auth-message.error {
            background: rgba(255, 0, 0, 0.1);
            color: #ff0000;
        }
        
        .hero {
            background: linear-gradient(rgba(14, 14, 14, 0.7), rgba(14, 14, 14, 0.9)), 
                        url('https://images.squarespace-cdn.com/content/v1/66e0837e511ac65faae72b65/a087b26a-cf0b-4898-bcbe-47a655a829ba/Screenshot+2024-11-02+115211.png');
            background-size: cover;
            background-position: center;
            height: 40vh;
            display: flex;
            align-items: center;
            justify-content: center;
            text-align: center;
            padding: 6rem 2rem 4rem;
        }
        
        .hero-content {
            max-width: 800px;
        }
        
        .hero h1 {
            font-size: 3rem;
            margin-bottom: 1.5rem;
            background: linear-gradient(90deg, var(--gradient-start), var(--gradient-end));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        
        .hero p {
            font-size: 1.25rem;
            line-height: 1.6;
            margin-bottom: 2.5rem;
            opacity: 0.9;
	    display: inline-block;
            width: 790px;
        }
        
        .payment-banner {
            background: linear-gradient(90deg, var(--gradient-start), var(--gradient-end));
            padding: 2rem;
            text-align: center;
            margin: 0 auto;
            max-width: 1000px;
            border-radius: var(--rounded);
            box-shadow: var(--shadow);
            margin-top: -10rem;
            margin-bottom: 2rem;
            position: relative;
            overflow: hidden;
        }
        
        .payment-banner::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: linear-gradient(
                to bottom right,
                rgba(255, 255, 255, 0.1) 0%,
                rgba(255, 255, 255, 0) 60%
            );
            transform: rotate(30deg);
            pointer-events: none;
        }
        
        .payment-banner h2 {
            font-size: 1.8rem;
            margin-bottom: 1rem;
            color: var(--text-dark);
        }
        
        .payment-banner p {
            font-size: 1rem;
            margin-bottom: 1.5rem;
            color: var(--text-dark);
            opacity: 0.9;
        }
        
        .payment-btn {
            display: inline-block;
            padding: 1rem 2rem;
            background: var(--text-dark);
            color: var(--text-light);
            border-radius: 50px;
            text-decoration: none;
            font-weight: 600;
            transition: var(--transition);
            border: none;
            cursor: pointer;
            font-size: 1rem;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
        }
        
        .payment-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.3);
        }
        
        .payment-btn:active {
            transform: translateY(1px);
        }
        
        .course-section {
            padding: 6rem 2rem;
            background: var(--dark-bg);
            position: relative;
        }
        
        .course-list {
            max-width: 1000px;
            margin: 0 auto;
            padding: 6rem;
        }
        
        .course-item {
            background: var(--card-bg);
            border-radius: var(--rounded);
            padding: 2rem;
            margin-bottom: 1.5rem;
            box-shadow: var(--shadow);
            display: flex;
            align-items: center;
            transition: var(--transition);
            border-left: 4px solid var(--gradient-start);
        }
        
        .course-item:hover {
            transform: translateY(-5px);
            box-shadow: 0 12px 24px rgba(0, 0, 0, 0.4);
        }
        
        .course-thumbnail {
            width: 160px;
            height: 100px;
            border-radius: var(--rounded);
            overflow: hidden;
            margin-right: 2rem;
            flex-shrink: 0;
        }
        
        .course-thumbnail img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }
        
        .course-info {
            flex-grow: 1;
            text-align: left;
        }
        
        .course-info h3 {
            font-size: 1.5rem;
            margin-bottom: 0.75rem;
            color: var(--text-light);
        }
        
        .course-info p {
            font-size: 1rem;
            line-height: 1.6;
            margin-bottom: 1rem;
            opacity: 0.8;
        }
        
        .course-meta {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-top: 1rem;
        }
        
        .course-duration {
            font-size: 0.9rem;
            opacity: 0.7;
        }
        
        .btn {
            display: inline-block;
            padding: 0.75rem 1.75rem;
            background: var(--button-bg);
            color: var(--text-dark);
            border-radius: 50px;
            text-decoration: none;
            font-weight: 600;
            transition: var(--transition);
            border: none;
            cursor: pointer;
            font-size: 1rem;
        }
        
        .btn:hover {
            background: var(--button-hover);
            color: var(--text-light);
            transform: translateY(-2px);
        }
        
        .btn:disabled {
            background: #666;
            cursor: not-allowed;
            transform: none;
        }
        
        .btn.loading {
            position: relative;
            color: transparent;
        }
        
        .btn.loading::after {
            content: "";
            position: absolute;
            width: 16px;
            height: 16px;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            margin: auto;
            border: 3px solid transparent;
            border-top-color: var(--text-light);
            border-radius: 50%;
            animation: button-loading-spinner 1s ease infinite;
        }
        
        @keyframes button-loading-spinner {
            from { transform: rotate(0turn); }
            to { transform: rotate(1turn); }
        }
        
        .free-course {
            background: rgba(0, 210, 255, 0.1);
            border-left: 4px solid #00ff00;
        }
        
        .free-badge {
            background: #00ff00;
            color: var(--text-dark);
            padding: 0.25rem 0.75rem;
            border-radius: 50px;
            font-size: 0.8rem;
            font-weight: 600;
            margin-left: 1rem;
        }
        
        .premium-course {
            border-left: 4px solid var(--gradient-start);
        }
        
        .premium-badge {
            background: var(--gradient-start);
            color: var(--text-dark);
            padding: 0.25rem 0.75rem;
            border-radius: 50px;
            font-size: 0.8rem;
            font-weight: 600;
            margin-left: 1rem;
        }
        
        @media (max-width: 768px) {
            .hero h1 {
                font-size: 2.25rem;
            }
            
            .course-item {
                flex-direction: column;
                text-align: center;
            }
            
            .course-thumbnail {
                margin-right: 0;
                margin-bottom: 1.5rem;
                width: 100%;
                height: 180px;
            }
            
            .course-info {
                text-align: center;
            }
            
            .course-meta {
                flex-direction: column;
            }
            
            .course-duration {
                margin-bottom: 1rem;
            }
            
            nav ul {
                display: none;
            }
            
            .auth-content {
                padding: 1.5rem;
            }
            
            .payment-banner {
                padding: 1.5rem;
            }
            
            .payment-banner h2 {
                font-size: 1.5rem;
            }
            
            .course-list {
                padding: 2rem 0;
            }
        }
    </style>
</head>

<body>
    <!-- Notification Container -->
    <div id="notification-container"></div>

    <!-- Header -->
    <header>
        <a href="" class="logo">YesLucid's Editing Course</a>
        <nav>
            <ul>
                <li id="auth-container">
                    <button class="btn" id="login-button">Login</button>
                </li>
                <li id="user-profile" style="display: none;">
                    <div class="user-profile">
                        <div class="user-avatar" id="user-avatar"></div>
                        <span class="user-name" id="user-name"></span>
                        <button onclick="logout()" style="margin-left: 1rem; background: none; border: none; color: var(--gradient-start); cursor: pointer;">Logout</button>
                    </div>
                </li>
            </ul>
        </nav>
    </header>

    <!-- Auth Modal -->
    <div class="auth-modal" id="authModal">
        <div class="auth-content">
            <button class="auth-close" id="authClose">&times;</button>
            <div id="auth-forms">
                <!-- Login/Signup forms will be inserted here by JavaScript -->
            </div>
        </div>
    </div>

    <!-- Hero Section -->
    <section class="hero">
        <div class="hero-content">
            <h1>The Basic Gaming Editing Course</h1>
            <p>Watch the intro and the free section about Clip Splicing. You will not regret it. This course covers the basic needs of a new gaming video editor in Premiere Pro.</p>
        </div>
    </section>
        
    <!-- Course List -->
    <section class="course-section">
        <div class="course-list">
            <!-- Payment Banner -->
            <div class="payment-banner">
                <h2>Unlock Full Course Access</h2>
                <p>Get instant access to all premium content including advanced editing techniques, visual effects, and more!</p>
                <button class="payment-btn" id="payment-button">Get Full Access - $12.00</button>
            </div>
            
<!-- Introduction -->
<div class="course-item free-course">
    <div class="course-thumbnail">
        <img src="https://video.squarespace-cdn.com/content/v1/66e0837e511ac65faae72b65/c4b330b1-5ad4-4b04-a790-6bc423940a3c/thumbnail" alt="Introduction">
    </div>
    <div class="course-info">
        <h3>Introduction <span class="free-badge">FREE</span></h3>
        <p>Brief overview of the course. Find out what you can expect to learn.</p>
        <div class="course-meta">
            <span class="course-duration">1:23</span>
            <button class="btn start-btn" onclick="window.open('https://www.youtube.com/watch?v=wFtscOgA30M', '_blank')">Watch Now</button>
        </div>
    </div>
</div>

<!-- Clip Splicing -->
<div class="course-item free-course">
    <div class="course-thumbnail">
        <img src="https://video.squarespace-cdn.com/content/v1/66e0837e511ac65faae72b65/d19e2e88-1d13-4201-a038-b7d54fb72d7a/thumbnail" alt="Clip Splicing">
    </div>
    <div class="course-info">
        <h3>Clip Splicing <span class="free-badge">FREE</span></h3>
        <p>How to cut clips. Standard cuts, J cuts, L cuts & contrast editing. Intuition. It's not about following rules.</p>
        <div class="course-meta">
            <span class="course-duration">5:12</span>
            <button class="btn start-btn" onclick="window.open('https://www.youtube.com/watch?v=eeJqLaQYS88&list=PLysQ4oSY7601DbwXD6eB48jvjFOt7bQiA&index=2', '_blank')">Watch Now</button>
        </div>
    </div>
</div>            
<!-- Music -->
<div class="course-item premium-course">
    <div class="course-thumbnail">
        <img src="https://video.squarespace-cdn.com/content/v1/66e0837e511ac65faae72b65/b428e1c9-b491-4852-bdb9-9cc518acba65/thumbnail" alt="Music">
    </div>
    <div class="course-info">
        <h3>Music <span class="premium-badge">PREMIUM</span></h3>
        <p>Different ways to get music (Epidemic, game tracks). Importance of music in matching emotion of scene.</p>
        <div class="course-meta">
            <span class="course-duration">9:08</span>
            <button class="btn start-btn" data-link="https://www.youtube.com/watch?v=BnGX1ow81UI&list=PLysQ4oSY7601DbwXD6eB48jvjFOt7bQiA&index=1">Start</button>
        </div>
    </div>
</div>

<!-- Edit Faster -->
<div class="course-item premium-course">
    <div class="course-thumbnail">
        <img src="https://video.squarespace-cdn.com/content/v1/66e0837e511ac65faae72b65/f0135afb-5c35-4689-9735-be9e3a62d50d/thumbnail" alt="Edit Faster">
    </div>
    <div class="course-info">
        <h3>Edit Faster <span class="premium-badge">PREMIUM</span></h3>
        <p>Keyboard shortcuts. Deep work.</p>
        <div class="course-meta">
            <span class="course-duration">7:16</span>
            <button class="btn start-btn" data-link="https://www.youtube.com/watch?v=1WHGvTA9fWE&list=PLysQ4oSY7601DbwXD6eB48jvjFOt7bQiA&index=2">Start</button>
        </div>
    </div>
</div>
<!-- Visuals -->
<div class="course-item premium-course">
    <div class="course-thumbnail">
        <img src="https://video.squarespace-cdn.com/content/v1/66e0837e511ac65faae72b65/d0dc8c18-ede2-4bdc-b6e4-0c0cb3ae7cf1/thumbnail" alt="Visuals">
    </div>
    <div class="course-info">
        <h3>Visuals <span class="premium-badge">PREMIUM</span></h3>
        <p>Basic visuals.</p>
        <div class="course-meta">
            <span class="course-duration">13:16</span>
            <button class="btn start-btn" data-link="https://www.youtube.com/watch?v=4DeXqUnV6Bc&list=PLysQ4oSY7601DbwXD6eB48jvjFOt7bQiA&index=3">Start</button>
        </div>
    </div>
</div>

<!-- Advanced Visuals -->
<div class="course-item premium-course">
    <div class="course-thumbnail">
        <img src="https://video.squarespace-cdn.com/content/v1/66e0837e511ac65faae72b65/ed513f18-58fd-472b-9122-33e219b5bbc7/thumbnail" alt="Advanced Visuals">
    </div>
    <div class="course-info">
        <h3>Advanced Visuals <span class="premium-badge">PREMIUM</span></h3>
        <p>Complex visuals in After Effects, Blockbench.</p>
        <div class="course-meta">
            <span class="course-duration">18:59</span>
            <button class="btn start-btn" data-link="https://www.youtube.com/watch?v=XtIXoOzSP8M&list=PLysQ4oSY7601DbwXD6eB48jvjFOt7bQiA&index=6">Start</button>
        </div>
    </div>
</div>

<!-- Sound Effects -->
<div class="course-item premium-course">
    <div class="course-thumbnail">
        <img src="https://video.squarespace-cdn.com/content/v1/66e0837e511ac65faae72b65/30846c11-19b2-441a-bd69-8e0a9239bef5/thumbnail" alt="Sound Effects">
    </div>
    <div class="course-info">
        <h3>Sound Effects <span class="premium-badge">PREMIUM</span></h3>
        <p>How to use sound to enhance any visual/scene.</p>
        <div class="course-meta">
            <span class="course-duration">3:46</span>
            <button class="btn start-btn" data-link="https://www.youtube.com/watch?v=qsZkxXOfWFo&list=PLysQ4oSY7601DbwXD6eB48jvjFOt7bQiA&index=5">Start</button>
        </div>
    </div>
</div>

<!-- Make Anything Look Sexy -->
<div class="course-item premium-course">
    <div class="course-thumbnail">
        <img src="https://video.squarespace-cdn.com/content/v1/66e0837e511ac65faae72b65/44811a01-8937-4bf2-853c-c4c9d041629c/thumbnail" alt="Make Anything Look Sexy">
    </div>
    <div class="course-info">
        <h3>Make Anything Look Sexy <span class="premium-badge">PREMIUM</span></h3>
        <p>Make anything look amazing, as the name suggests.</p>
        <div class="course-meta">
            <span class="course-duration">6:57</span>
            <button class="btn start-btn" data-link="https://www.youtube.com/watch?v=dD_lJdm6z0I&list=PLysQ4oSY7601DbwXD6eB48jvjFOt7bQiA&index=6">Start</button>
        </div>
    </div>
</div>

<!-- Expressions -->
<div class="course-item premium-course">
    <div class="course-thumbnail">
        <img src="https://video.squarespace-cdn.com/content/v1/66e0837e511ac65faae72b65/99b52f8e-e9dd-406f-9d21-feed86a1ac54/thumbnail" alt="Expressions">
    </div>
    <div class="course-info">
        <h3>Expressions <span class="premium-badge">PREMIUM</span></h3>
        <p>Use After Effects expressions to enhance visuals.</p>
        <div class="course-meta">
            <span class="course-duration">12:35</span>
            <button class="btn start-btn" data-link="https://www.youtube.com/watch?v=NRMcILRz-UI&list=PLysQ4oSY7601DbwXD6eB48jvjFOt7bQiA&index=7">Start</button>
        </div>
    </div>
</div>
        </div>
    </section>

    <!-- Footer -->
    <footer>
        <div class="footer-content">
            <div class="footer-logo">YesLucid's Editing Course</div>
            <p class="copyright">© 2025 Webstudios.com. All rights reserved.</p>
        </div>
    </footer>

    <script>
        // Global variables
        let currentUser = null;
        let accounts = {};
        
        // DOM Elements
        const authContainer = document.getElementById('auth-container');
        const userProfile = document.getElementById('user-profile');
        const userAvatar = document.getElementById('user-avatar');
        const userName = document.getElementById('user-name');
        const loginButton = document.getElementById('login-button');
        const authModal = document.getElementById('authModal');
        const authClose = document.getElementById('authClose');
        const authForms = document.getElementById('auth-forms');
        const startButtons = document.querySelectorAll('.start-btn');
        const paymentButton = document.getElementById('payment-button');
        const notificationContainer = document.getElementById('notification-container');
        
        // Initialize Stripe with your test publishable key
        const stripe = Stripe('pk_live_51RIcdRLF4BtHwupIURscLwDEYm3NuT4ovDaP4CtCUNpNvvciVVIyf47pUdkuZispIUIb7V1EN028bRlcy9pSRZOy00XuIrx8iE');
        
        // Show notification function
        function showNotification(message, isError = false) {
            const notification = document.createElement('div');
            notification.className = `notification ${isError ? 'error' : ''}`;
            
            // Add icon based on success/error
            const icon = document.createElement('span');
            icon.innerHTML = isError ? '❌' : '🎉';
            notification.appendChild(icon);
            
            const text = document.createElement('span');
            text.textContent = message;
            notification.appendChild(text);
            
            notificationContainer.appendChild(notification);
            
            // Remove notification after 5 seconds
            setTimeout(() => {
                notification.style.animation = 'slideIn 0.5s reverse forwards';
                setTimeout(() => notification.remove(), 500);
            }, 5000);
        }
        
        // Initialize the app
        document.addEventListener('DOMContentLoaded', function() {
            // Load accounts from localStorage
            const savedAccounts = localStorage.getItem('accounts');
            if (savedAccounts) {
                accounts = JSON.parse(savedAccounts);
            }
            
            // Check for existing session
            const savedUser = localStorage.getItem('currentUser');
            if (savedUser) {
                currentUser = JSON.parse(savedUser);
                updateUserUI();
                checkUserAccess();
            }
            
            // Check for payment success in URL
            checkPaymentSuccess();
            
            // Set up event listeners
            setupEventListeners();
        });

        function checkPaymentSuccess() {
            const urlParams = new URLSearchParams(window.location.search);
            const paymentSuccess = urlParams.get('payment_success');
            
            // Always clean the URL first
            if (paymentSuccess) {
                window.history.replaceState({}, document.title, window.location.pathname);
            }
            
            // Then process the payment success
            if (paymentSuccess === 'true' && currentUser) {
                accounts[currentUser.username].purchasedCourses = ['full_course'];
                localStorage.setItem('accounts', JSON.stringify(accounts));
                
                currentUser.purchasedCourses = ['full_course'];
                localStorage.setItem('currentUser', JSON.stringify(currentUser));
                
                unlockAllVideos();
                showNotification('Payment successful! Premium access unlocked!');
            }
        }
        
        function setupEventListeners() {
            // Login button
            loginButton.addEventListener('click', openAuthModal);
            
            // Auth modal close
            authClose.addEventListener('click', closeAuthModal);
            
            // Close auth modal when clicking outside
            authModal.addEventListener('click', function(e) {
                if (e.target === authModal) {
                    closeAuthModal();
                }
            });
            
            // Payment button
            paymentButton.addEventListener('click', handlePayment);
        }
        
        function handleStartClick(button, isFree) {
            if (isFree) {
                showNotification('Enjoy this free lesson!');
                // Here you would normally open the content
            } else {
                if (!currentUser) {
                    openAuthModal();
                    showNotification('Please login to access premium content', true);
                    return;
                }
                
                if (currentUser.purchasedCourses && currentUser.purchasedCourses.includes('full_course')) {
                    showNotification('Loading premium content...');
                    // Here you would normally open the premium content
                } else {
                    showNotification('Please purchase the course to access premium content', true);
                }
            }
        }
        
        function openAuthModal() {
            showLoginForm();
            authModal.classList.add('active');
            document.body.style.overflow = 'hidden';
        }
        
        function closeAuthModal() {
            authModal.classList.remove('active');
            document.body.style.overflow = 'auto';
        }
        
        function showLoginForm() {
            authForms.innerHTML = `
                <h2 class="auth-title">Login</h2>
                <form class="auth-form" id="login-form">
                    <input type="text" id="login-username" placeholder="Username" required>
                    <input type="password" id="login-password" placeholder="Password" required>
                    <button type="button" id="login-submit">Login</button>
                    <div id="login-message" class="auth-message"></div>
                    <button type="button" class="auth-toggle" id="show-signup">Don't have an account? Sign up</button>
                </form>
            `;
            
            document.getElementById('login-submit').addEventListener('click', handleLogin);
            document.getElementById('show-signup').addEventListener('click', showSignupForm);
        }
        
        function showSignupForm() {
            authForms.innerHTML = `
                <h2 class="auth-title">Create Account</h2>
                <form class="auth-form" id="signup-form">
                    <input type="text" id="signup-username" placeholder="Choose a username" required>
                    <input type="password" id="signup-password" placeholder="Choose a password" required>
                    <button type="button" id="signup-submit">Create Account</button>
                    <div id="signup-message" class="auth-message"></div>
                    <button type="button" class="auth-toggle" id="show-login">Already have an account? Login</button>
                </form>
            `;
            
            document.getElementById('signup-submit').addEventListener('click', handleSignup);
            document.getElementById('show-login').addEventListener('click', showLoginForm);
        }
        
        function handleLogin() {
            const username = document.getElementById('login-username').value;
            const password = document.getElementById('login-password').value;
            const messageElement = document.getElementById('login-message');
            
            if (!username || !password) {
                showAuthMessage('Please enter both username and password', 'error', messageElement);
                return;
            }
            
            if (!accounts[username]) {
                showAuthMessage('Username not found', 'error', messageElement);
                return;
            }
            
            if (accounts[username].password !== password) {
                showAuthMessage('Incorrect password', 'error', messageElement);
                return;
            }
            
            // Login successful
            currentUser = {
                username: username,
                name: username,
                purchasedCourses: accounts[username].purchasedCourses || []
            };
            
            // Save to localStorage
            localStorage.setItem('currentUser', JSON.stringify(currentUser));
            
            // Update UI
            updateUserUI();
            
            // Check course access
            checkUserAccess();
            
            // Show success message and close modal
            showAuthMessage('Login successful!', 'success', messageElement);
            setTimeout(() => {
                closeAuthModal();
                // Clear form
                document.getElementById('login-username').value = '';
                document.getElementById('login-password').value = '';
                messageElement.textContent = '';
            }, 1500);
        }
        
        function handleSignup() {
            const username = document.getElementById('signup-username').value;
            const password = document.getElementById('signup-password').value;
            const messageElement = document.getElementById('signup-message');
            
            if (!username || !password) {
                showAuthMessage('Please enter both username and password', 'error', messageElement);
                return;
            }
            
            if (accounts[username]) {
                showAuthMessage('Username already exists', 'error', messageElement);
                return;
            }
            
            // Create account
            accounts[username] = {
                password: password,
                purchasedCourses: []
            };
            
            // Save accounts to localStorage
            localStorage.setItem('accounts', JSON.stringify(accounts));
            
            // Automatically log in the new user
            currentUser = {
                username: username,
                name: username,
                purchasedCourses: []
            };
            
            localStorage.setItem('currentUser', JSON.stringify(currentUser));
            
            // Update UI
            updateUserUI();
            
            // Show success message and close modal
            showAuthMessage('Account created successfully!', 'success', messageElement);
            setTimeout(() => {
                closeAuthModal();
                // Clear form
                document.getElementById('signup-username').value = '';
                document.getElementById('signup-password').value = '';
                messageElement.textContent = '';
            }, 1500);
        }
        
        function showAuthMessage(message, type, element) {
            element.textContent = message;
            element.className = `auth-message ${type}`;
        }
        
        function logout() {
            currentUser = null;
            localStorage.removeItem('currentUser');
            userProfile.style.display = 'none';
            authContainer.style.display = 'block';
            
            // Reset payment button
            paymentButton.textContent = 'Get Full Access - $12.00';
            paymentButton.style.backgroundColor = '';
            paymentButton.style.color = '';
            paymentButton.style.cursor = '';
            paymentButton.onclick = handlePayment;
        }
        
        function updateUserUI() {
            authContainer.style.display = 'none';
            userProfile.style.display = 'block';
            userAvatar.textContent = currentUser.username.charAt(0).toUpperCase();
            userName.textContent = currentUser.username;
        }
        
        function checkUserAccess() {
            if (currentUser.purchasedCourses && currentUser.purchasedCourses.includes('full_course')) {
                unlockAllVideos();
            }
        }
        
        function handleStartButtonClick() {
            if (!currentUser) {
                openAuthModal();
                return;
            }
            
            if (currentUser.purchasedCourses && currentUser.purchasedCourses.includes('full_course')) {
                // User has access, play the video
                const courseTitle = this.closest('.course-item').querySelector('h3').textContent;
                alert(`Now playing: ${courseTitle}`);
            } else {
                alert('Please unlock premium content to access this video');
            }
        }
        
function unlockAllVideos() {
    // Only target premium course buttons
    document.querySelectorAll('.premium-course .start-btn').forEach(btn => {
        const videoLink = btn.getAttribute('data-link');
        if (videoLink) {
            btn.textContent = 'Watch Now';
            btn.onclick = function() {
                window.open(videoLink, '_blank');
            };
        }
    });
    
    // Update payment button to show purchased
    paymentButton.textContent = 'Access Granted ✓';
    paymentButton.style.backgroundColor = '#00ff00';
    paymentButton.style.color = '#000';
    paymentButton.style.cursor = 'default';
    paymentButton.onclick = null;
    
    showNotification('Premium content unlocked!');
}        
        async function handlePayment() {
            if (!currentUser) {
                openAuthModal();
                return;
            }

            paymentButton.textContent = 'Processing...';
            paymentButton.disabled = true;

            try {
                // Create the success URL that will redirect back to your page
                const successUrl = `${window.location.origin}${window.location.pathname}?payment_success=true`;
                
                // Replace with your actual Stripe Payment Link
                const stripeCheckoutUrl = 'https://buy.stripe.com/28o171fWW2vl0VO9AA';
                
                // Redirect to Stripe with the success URL
                window.location.href = `${stripeCheckoutUrl}?success_url=${encodeURIComponent(successUrl)}&client_reference_id=${currentUser.username}`;
                
            } catch (err) {
                console.error('Error:', err);
                showNotification('Payment processing failed. Please try again.', true);
                paymentButton.textContent = 'Get Full Access - $12.00';
                paymentButton.disabled = false;
            }
        }
    </script>
</body>
</html>